import { useDecorators } from "@tsed/core/utils/useDecorators.js";
import { ProviderScope } from "../domain/ProviderScope.js";
import { ProviderType } from "../domain/ProviderType.js";
import { Configuration } from "./configuration.js";
import { Injectable } from "./injectable.js";
/**
 * Declare a new Ts.ED module
 *
 * ## Options
 * - imports: List of Provider which must be built by injector before invoking the module
 * - deps: List of provider must be injected to the module constructor (explicit declaration)
 *
 * @param options
 * @decorator
 */
export function Module(options = {}) {
    const { scopes, imports, deps, scope, ...configuration } = options;
    return useDecorators(Configuration(configuration), Injectable({
        type: ProviderType.MODULE,
        scope: ProviderScope.SINGLETON,
        imports,
        deps,
        injectable: false
    }));
}
