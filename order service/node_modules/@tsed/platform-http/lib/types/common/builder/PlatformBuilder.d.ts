/// <reference types="node" resolution-mode="require"/>
import type { IncomingMessage, ServerResponse } from "node:http";
import type { Type } from "@tsed/core";
import { InjectorService, ProviderOpts, TokenProvider } from "@tsed/di";
import { PlatformLayer } from "@tsed/platform-router";
import { Platform } from "../services/Platform.js";
import { PlatformAdapter, PlatformBuilderSettings } from "../services/PlatformAdapter.js";
import { PlatformApplication } from "../services/PlatformApplication.js";
/**
 * @platform
 */
export declare class PlatformBuilder<App = TsED.Application> {
    #private;
    protected startedAt: Date;
    protected current: Date;
    protected constructor(settings: Partial<TsED.Configuration>);
    get name(): string;
    get rootModule(): any | undefined;
    get app(): PlatformApplication<App>;
    get platform(): Platform;
    get adapter(): PlatformAdapter<any>;
    /**
     * Return the settings configured by the decorator @@Configuration@@.
     *
     * ```typescript
     * @Configuration({
     *   port: 8000,
     *   httpsPort: 8080,
     *   mount: {
     *     "/rest": "${rootDir}/controllers/**\/*.js"
     *   }
     * })
     * export class Server {
     *   $onInit(){
     *     console.log(this.settings); // {rootDir, port, httpsPort,...}
     *   }
     * }
     * ```
     */
    get settings(): TsED.Configuration & import("@tsed/di").DIConfiguration;
    get logger(): import("@tsed/di").DILogger;
    get disableBootstrapLog(): boolean | undefined;
    /**
     * @deprecated use injector() instead of this method.
     */
    get injector(): InjectorService;
    static create<App = TsED.Application>(settings: PlatformBuilderSettings<App>): PlatformBuilder<App>;
    static create<App = TsED.Application>(module: Type<any>, settings?: PlatformBuilderSettings<App>): PlatformBuilder<App>;
    static build<App = TsED.Application>(settings: PlatformBuilderSettings<App>): PlatformBuilder<App>;
    static build<App = TsED.Application>(module: Type<any>, settings?: PlatformBuilderSettings<App>): PlatformBuilder<App>;
    /**
     * Bootstrap a server application
     */
    static bootstrap<App = TsED.Application>(settings: PlatformBuilderSettings<App>): Promise<PlatformBuilder<App>>;
    static bootstrap<App = TsED.Application>(module: Type<any>, settings?: PlatformBuilderSettings<App>): Promise<PlatformBuilder<App>>;
    callback(): (req: IncomingMessage, res: ServerResponse) => void;
    callback(req: IncomingMessage, res: ServerResponse): void;
    log(...data: any[]): any;
    /**
     * Add classes decorated by @@Controller@@ to components container.
     *
     * ### Example
     *
     * ```typescript
     * @Controller('/ctrl')
     * class MyController{
     * }
     *
     * platform.addControllers('/rest', [MyController])
     * ```
     *
     * ::: tip
     * If the MyController class isn't decorated, the class will be ignored.
     * :::
     *
     * @param {string} endpoint
     * @param {any[]} controllers
     */
    addControllers(endpoint: string, controllers: TokenProvider | TokenProvider[]): void;
    runLifecycle(): Promise<this>;
    loadInjector(): Promise<void>;
    listen(network?: boolean): Promise<void>;
    stop(): Promise<void>;
    ready(): Promise<void>;
    callHook(hook: string, ...args: any[]): Promise<void>;
    loadStatics(hook: string): void;
    useProvider(token: Type<any>, settings?: Partial<ProviderOpts>): this;
    bootstrap(): Promise<this>;
    protected mapRouters(): Promise<void>;
    protected diff(): string;
    /**
     * Load middlewares from configuration for the given hook
     * @param hook
     * @protected
     */
    protected loadMiddlewaresFor(hook: string): void;
    protected createHttpServers(): void;
    protected listenServers(): Promise<void>;
    protected logRoutes(layers: PlatformLayer[]): Promise<void>;
}
