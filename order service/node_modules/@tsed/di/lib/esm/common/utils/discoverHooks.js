import { methodsOf } from "@tsed/core/utils/methodsOf.js";
export function discoverHooks(token) {
    return methodsOf(token).reduce((hooks, { propertyKey }) => {
        if (String(propertyKey).startsWith("$")) {
            const listener = (instance, ...args) => instance?.[propertyKey](...args);
            return {
                ...hooks,
                [propertyKey]: listener
            };
        }
        return hooks;
    }, {});
}
