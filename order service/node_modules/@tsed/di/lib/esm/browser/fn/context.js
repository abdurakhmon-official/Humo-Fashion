import { v4 } from "uuid";
import { DIContext } from "../../common/domain/DIContext.js";
import { injector } from "../../common/index.js";
import { getContext } from "../utils/asyncHookContext.js";
/**
 * Get the current DIContext instance using async hook node.js api.
 *
 * ::: warning
 * This function isn't available in the browser context.
 * :::
 */
export function context() {
    return (getContext() ||
        new DIContext({
            id: v4(),
            logger: injector().logger,
            injector: injector(),
            maxStackSize: 0
        }));
}
