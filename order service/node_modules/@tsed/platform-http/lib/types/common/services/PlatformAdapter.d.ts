/// <reference types="node" resolution-mode="require"/>
import { IncomingMessage, ServerResponse } from "node:http";
import { Type } from "@tsed/core";
import type { PlatformMulter, PlatformMulterSettings } from "@tsed/platform-multer";
import { PlatformHandlerMetadata, PlatformLayer } from "@tsed/platform-router";
import type { PlatformStaticsOptions } from "../config/PlatformStaticsSettings.js";
import { CreateServerReturn } from "../utils/createServer.js";
import { PlatformApplication } from "./PlatformApplication.js";
export declare abstract class PlatformAdapter<App = TsED.Application> {
    abstract readonly NAME: string;
    readonly app: PlatformApplication<App>;
    constructor();
    getServers(): CreateServerReturn[];
    onInit(): Promise<void> | void;
    beforeLoadRoutes(): Promise<void> | void;
    afterLoadRoutes(): Promise<void> | void;
    /**
     * create initial context
     */
    abstract useContext(): Promise<void> | void;
    /**
     * Map router layer to the targeted framework
     */
    abstract mapLayers(layer: PlatformLayer[]): void;
    /**
     * Map handler to the targeted framework
     */
    mapHandler(handler: Function, layer: PlatformHandlerMetadata): Function;
    /**
     * Return the app instance
     */
    abstract createApp(): {
        app: App;
        callback(): (req: IncomingMessage, res: ServerResponse) => void;
    };
    /**
     * Return the statics middlewares
     * @param endpoint
     * @param options
     */
    abstract statics(endpoint: string, options: PlatformStaticsOptions): any;
    /**
     * Return the multipart middleware
     * @param options
     * @deprecated use inject("MULTER_MODULE")?.get(options) instead
     */
    multipart(options: PlatformMulterSettings): PlatformMulter;
    /**
     * Return the body parser for the given
     * @param type
     * @param opts
     */
    abstract bodyParser(type: string, opts?: Record<string, any>): any;
}
export interface PlatformBuilderSettings<App = TsED.Application> extends Partial<TsED.Configuration> {
    adapter?: Type<PlatformAdapter<App>>;
}
