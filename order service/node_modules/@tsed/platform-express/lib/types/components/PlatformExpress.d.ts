import "@tsed/platform-multer/express";
import { Type } from "@tsed/core";
import { PlatformAdapter, PlatformBuilder, PlatformContext, PlatformStaticsOptions } from "@tsed/platform-http";
import { PlatformHandlerMetadata, PlatformLayer } from "@tsed/platform-router";
import Express from "express";
import { PlatformExpressStaticsOptions } from "../interfaces/PlatformExpressStaticsOptions.js";
declare module "express" {
    interface Request {
        id: string;
        $ctx: PlatformContext;
    }
}
declare global {
    namespace TsED {
        interface Application extends Express.Application {
        }
        interface StaticsOptions extends PlatformExpressStaticsOptions {
        }
        interface Request extends Express.Request {
            id: string;
            $ctx: PlatformContext;
        }
    }
}
/**
 * @platform
 * @express
 */
export declare class PlatformExpress extends PlatformAdapter<Express.Application> {
    readonly NAME = "express";
    /**
     * Create new serverless application. In this mode, the component scan are disabled.
     * @param module
     * @param settings
     */
    static create(module: Type<any>, settings?: Partial<TsED.Configuration>): PlatformBuilder<Express.Application>;
    /**
     * Bootstrap a server application
     * @param module
     * @param settings
     */
    static bootstrap(module: Type<any>, settings?: Partial<TsED.Configuration>): Promise<PlatformBuilder<Express.Application>>;
    beforeLoadRoutes(): Promise<void>;
    afterLoadRoutes(): Promise<void>;
    mapLayers(layers: PlatformLayer[]): void;
    mapHandler(handler: Function, metadata: PlatformHandlerMetadata): (error: unknown, req: any, res: any, next: any) => Promise<Promise<any>>;
    useContext(): void;
    createApp(): {
        app: Express.Express;
        callback: () => Express.Express;
    };
    statics(endpoint: string | RegExp, options: PlatformStaticsOptions): (request: any, response: any, next: any) => void;
    bodyParser(type: "json" | "text" | "urlencoded", additionalOptions?: any): any;
    private configureViewsEngine;
}
